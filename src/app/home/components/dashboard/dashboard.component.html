<div class="dashboard">
  <!-- Stats Grid -->
  <div class="stats-grid" *ngIf="!isLoading">
    <!-- Recovery Card -->
    <div class="stat-card recovery-card" [class.has-data]="currentEntry?.recovery">
      <div class="stat-icon">ğŸ’š</div>
      <div class="stat-content">
        <div class="stat-value">{{ currentEntry?.recovery || '--' }}<span class="unit" *ngIf="currentEntry?.recovery">%</span></div>
        <div class="stat-label">Recovery</div>
      </div>
    </div>

    <!-- Sleep Card -->
    <div class="stat-card sleep-card" [class.has-data]="currentEntry?.sleep">
      <div class="stat-icon">ğŸ˜´</div>
      <div class="stat-content">
        <div class="stat-value">{{ currentEntry?.sleep || '--' }}<span class="unit" *ngIf="currentEntry?.sleep">%</span></div>
        <div class="stat-label">Sleep Score</div>
      </div>
    </div>

    <!-- Strain Card -->
    <div class="stat-card strain-card" [class.has-data]="currentEntry?.strain">
      <div class="stat-icon">ğŸ”¥</div>
      <div class="stat-content">
        <div class="stat-value">{{ currentEntry?.strain || '--' }}</div>
        <div class="stat-label">Strain</div>
      </div>
    </div>

    <!-- RHR Card -->
    <div class="stat-card rhr-card" [class.has-data]="currentEntry?.rhr">
      <div class="stat-icon">â¤ï¸</div>
      <div class="stat-content">
        <div class="stat-value">{{ currentEntry?.rhr || '--' }}<span class="unit" *ngIf="currentEntry?.rhr">bpm</span></div>
        <div class="stat-label">Resting HR</div>
      </div>
    </div>

    <!-- Weight Card -->
    <div class="stat-card weight-card" [class.has-data]="currentEntry?.weight">
      <div class="stat-icon">âš–ï¸</div>
      <div class="stat-content">
        <div class="stat-value">{{ currentEntry?.weight || '--' }}<span class="unit" *ngIf="currentEntry?.weight">lbs</span></div>
        <div class="stat-label">Weight</div>
      </div>
    </div>

    <!-- Wellness Score Card -->
    <div class="stat-card wellness-card clickable" 
         [class.has-data]="getWellnessScore() !== null" 
         [style.--wellness-color]="getWellnessScoreColor()"
         (click)="onOpenInsights()">
      <div class="stat-icon">âœ¨</div>
      <div class="stat-content">
        <div class="stat-value">{{ getWellnessScore() ?? '--' }}<span class="unit" *ngIf="getWellnessScore() !== null">/100</span></div>
        <div class="stat-label">Wellness</div>
      </div>
    </div>

    <!-- Nutrition Cards -->
    <div class="stat-card calories-card" [class.has-data]="mealEntries.length > 0" [class.complete]="getNutritionProgress('calories') >= 100">
      <div class="stat-icon">ğŸ”¥</div>
      <div class="stat-content">
        <div class="stat-value" *ngIf="mealEntries.length > 0">
          {{ getCompletedNutrition().calories }}<span class="planned">/{{ getPlannedNutrition().calories }}</span><span class="unit">cal</span>
        </div>
        <div class="stat-value" *ngIf="mealEntries.length === 0">--</div>
        <div class="stat-label">Calories</div>
      </div>
    </div>

    <div class="stat-card protein-card" [class.has-data]="mealEntries.length > 0" [class.complete]="getNutritionProgress('protein') >= 100">
      <div class="stat-icon">ğŸ¥©</div>
      <div class="stat-content">
        <div class="stat-value" *ngIf="mealEntries.length > 0">
          {{ getCompletedNutrition().protein }}<span class="planned">/{{ getPlannedNutrition().protein }}</span><span class="unit">g</span>
        </div>
        <div class="stat-value" *ngIf="mealEntries.length === 0">--</div>
        <div class="stat-label">Protein</div>
      </div>
    </div>

    <div class="stat-card carbs-card" [class.has-data]="mealEntries.length > 0" [class.complete]="getNutritionProgress('carbs') >= 100">
      <div class="stat-icon">ğŸ</div>
      <div class="stat-content">
        <div class="stat-value" *ngIf="mealEntries.length > 0">
          {{ getCompletedNutrition().carbs }}<span class="planned">/{{ getPlannedNutrition().carbs }}</span><span class="unit">g</span>
        </div>
        <div class="stat-value" *ngIf="mealEntries.length === 0">--</div>
        <div class="stat-label">Carbs</div>
      </div>
    </div>

    <div class="stat-card fats-card" [class.has-data]="mealEntries.length > 0" [class.complete]="getNutritionProgress('fats') >= 100">
      <div class="stat-icon">ğŸ¥‘</div>
      <div class="stat-content">
        <div class="stat-value" *ngIf="mealEntries.length > 0">
          {{ getCompletedNutrition().fats }}<span class="planned">/{{ getPlannedNutrition().fats }}</span><span class="unit">g</span>
        </div>
        <div class="stat-value" *ngIf="mealEntries.length === 0">--</div>
        <div class="stat-label">Fats</div>
      </div>
    </div>
  </div>

  <div class="loading-dashboard" *ngIf="isLoading">
    Loading dashboard...
  </div>


  <!-- Edit Entry Button -->
  <div class="dashboard-actions" *ngIf="currentEntry && !isLoading">
    <button class="edit-entry-btn" (click)="onEditEntry()">
      âœ Edit Health Data
    </button>
  </div>
</div>
